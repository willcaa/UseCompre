<ion-header>

  <ion-navbar color="dark">
    <button ion-button icon-only menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      <img src="assets/img/logo-top.png" style="width: 30%;" alt="">
    </ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
    <div *ngIf="isLoggedIn; else facebookLogin">
        <h2>Hi, {{users.name}} ({{users.email}})</h2>
        <p>
          Gender: {{users.gender}}
        </p>
        <p>
          <img src="{{users.picture.data.url}}" width="100" alt="{{users.name}}" />
        </p>
        <p>
          <button ion-button icon-right (click)="cadastrar(users.email, users.name, users.picture.data.url)">
            Finalizar Registro
          </button>
          <button ion-button icon-right (click)="logout()">
            Logout
          </button>
        </p>
      </div>
      <ng-template #facebookLogin>
  <ion-list>
    <div class="pagetabs" id="entrar" *ngIf="tabId == 'entrar'">
      <form >

        <ion-item>
          <ion-input type="email" [(ngModel)]="email" name="email" placeholder="Email"></ion-input>
        </ion-item>
  
        <ion-item>
          <ion-input type="password" [(ngModel)]="senha" name="senha" placeholder="Senha"></ion-input>
        </ion-item>
  
        <div>
          <button ion-button color="light" (click)="loginemail(email,senha)" block>Entrar</button>
        </div>
        <div style="text-align: center;">
          <button ion-button icon-end  class="button-face" (click)="loginFace()">Login com 
            <ion-icon class="button-facebook" name="logo-facebook"></ion-icon>
          </button>
        </div>
        <div text-center>
          <button ion-button style="color: #fbb22f !important" clear (click)="alterarTab('cadastrar')">Cadastrar
          </button>
        </div>
      </form>
    </div>

    <!-- <a class="button-temp" (click)="cadastrar('will-kg@hotmail.com', 'Willian Alves', 'https://scontent.xx.fbcdn.net/v/t1.0-1/p50x50/11813515_950106465040645_4723295867195234113_n.jpg?oh=')">
      Teste Registro
    </a> -->


    <div class="pagetabs" id="cadastrar" *ngIf="tabId == 'cadastrar'" style="margin-top: 50%;">
      <ion-list>
        <ion-item style=" border-radius: 6px; background: rgba(255, 255, 255, 0.5); color: #fff;">
          <ion-input type="text" [(ngModel)]="email" placeholder="E-mail"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input type="text" [(ngModel)]="nome" placeholder="Nome completo"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input type="password" [(ngModel)]="password" placeholder="Senha"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input type="password" [(ngModel)]="password2" placeholder="Confirme sua senha"></ion-input>
        </ion-item>
      </ion-list>


      <ion-segment>
        <ion-segment-button (click)="alterarTab('entrar')" style="color: #fbb22f">
          Voltar
        </ion-segment-button>
        <ion-segment-button style="color: #fbb22f" *ngIf="password == password2 && password != null && password2 != null" (click)="cadastrarEmail(email, nome, password)">
          Cadastrar
        </ion-segment-button>
      </ion-segment>
    </div>
  </ion-list>
</ng-template>
</ion-content>
